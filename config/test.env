# ==========================================
# 测试环境配置
# ==========================================

# 应用配置
APP_NAME=Lemo Recommender (Test)
DEBUG=true
API_PREFIX=/api/v1
ENV=test

# 服务配置
HOST=0.0.0.0
PORT=8080

# ==========================================
# 数据存储配置
# ==========================================

# MongoDB（测试环境）
MONGODB_URL=mongodb://admin:test_password@test-mongodb:27017
MONGODB_DATABASE=lemo_recommender_test

# Redis（测试环境）
REDIS_URL=redis://:test_redis_password@test-redis:6379/0
REDIS_PASSWORD=test_redis_password

# ==========================================
# 消息队列与流处理
# ==========================================

# Kafka（测试环境）
KAFKA_BOOTSTRAP_SERVERS=test-kafka:9092

# ==========================================
# 向量数据库
# ==========================================

# Milvus（测试环境）
MILVUS_ENABLED=false
MILVUS_HOST=test-milvus
MILVUS_PORT=19530
MILVUS_HTTP_PORT=9091

# ==========================================
# 外部服务配置（gRPC）
# ==========================================

# 租户服务
TENANT_SERVICE_GRPC_URL=test-tenant-service:9000

# 用户服务
USER_SERVICE_GRPC_URL=test-user-service:9001

# ==========================================
# 安全配置
# ==========================================

SECRET_KEY=test-secret-key-12345678
JWT_SECRET_KEY=test-jwt-secret-key-12345678

# ==========================================
# 日志配置
# ==========================================

LOG_LEVEL=INFO
LOG_FORMAT=json

# ==========================================
# 监控配置
# ==========================================

ENABLE_METRICS=true
PROMETHEUS_PORT=9090

# ==========================================
# Celery配置
# ==========================================

CELERY_BROKER_URL=redis://:test_redis_password@test-redis:6379/1
CELERY_RESULT_BACKEND=redis://:test_redis_password@test-redis:6379/2

# ==========================================
# 推荐引擎配置
# ==========================================

DEFAULT_RECOMMEND_COUNT=20
MAX_RECOMMEND_COUNT=100
RECALL_TIMEOUT_SECONDS=1.0
RANK_TIMEOUT_SECONDS=0.5

# ==========================================
# 开发工具
# ==========================================

RELOAD=false
ENABLE_DOCS=true

