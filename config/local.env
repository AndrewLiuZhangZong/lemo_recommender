# ==========================================
# 本地开发环境配置
# ==========================================

# 应用配置
APP_NAME=Lemo Recommender (Local)
DEBUG=true
API_PREFIX=/api/v1
ENV=local

# 服务配置
HOST=0.0.0.0
PORT=18081
# 注意：使用不常见端口18081避免冲突

# ==========================================
# 数据存储配置
# ==========================================

# MongoDB（本项目启动）
MONGODB_URL=mongodb://admin:password@localhost:27017
MONGODB_DATABASE=lemo_recommender

# Redis（使用本地已有服务 - ai_lemo_redis）
REDIS_URL=redis://:redis_password_2024@localhost:6379/0
REDIS_PASSWORD=redis_password_2024

# ==========================================
# 消息队列与流处理
# ==========================================

# Kafka（使用本地已有服务 - ad-mat-aegis-kafka）
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# ==========================================
# 向量数据库（第二阶段，使用本地已有服务）
# ==========================================

# Milvus（ai_lemo_milvus）
MILVUS_ENABLED=false
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_HTTP_PORT=9091

# ==========================================
# 外部服务配置（gRPC）
# ==========================================

# 租户服务
TENANT_SERVICE_GRPC_URL=localhost:9000

# 用户服务
USER_SERVICE_GRPC_URL=localhost:9001

# ==========================================
# 安全配置
# ==========================================

SECRET_KEY=local-dev-secret-key-change-in-production
JWT_SECRET_KEY=local-jwt-secret-key

# ==========================================
# 日志配置
# ==========================================

LOG_LEVEL=DEBUG
LOG_FORMAT=text  # text or json

# ==========================================
# 监控配置
# ==========================================

ENABLE_METRICS=true
PROMETHEUS_PORT=9090

# ==========================================
# Celery配置（使用本地Redis）
# ==========================================

CELERY_BROKER_URL=redis://:redis_password_2024@localhost:6379/1
CELERY_RESULT_BACKEND=redis://:redis_password_2024@localhost:6379/2

# ==========================================
# 推荐引擎配置
# ==========================================

# 默认推荐数量
DEFAULT_RECOMMEND_COUNT=20
MAX_RECOMMEND_COUNT=100

# 召回超时（秒）
RECALL_TIMEOUT_SECONDS=1.0

# 排序超时（秒）
RANK_TIMEOUT_SECONDS=0.5

# ==========================================
# 开发工具
# ==========================================

# 自动重载
RELOAD=true

# 开启Swagger UI
ENABLE_DOCS=true

